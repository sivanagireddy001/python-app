name: python app CI/CD

on:
 push:
  branches: 
         - main

jobs:
 build:
  runs-on: ubuntu:latest

  steps:
   - name: checkout code from main branch
   - uses: actions/checkout@v3

   - name: set up python 
   - uses: actions/setup-python@v2
     with:
      python version: "3.10"

   - name: install dependencies
   - run: |
       python -m pip install --upgrade pip
       pip install -r requirements.txt

   - name: build 
   - run: python build.py

   - name: test
   - run: python test.py
   